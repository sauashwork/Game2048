{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE = process.env.REACT_APP_API_BASE && process.env.REACT_APP_API_BASE.replace(/\\/+$/, '') || \"/api/game\";\nconst endpoint = path => `${API_BASE}${path.startsWith(\"/\") ? \"\" : \"/\"}${path}`;\nexport function newGame(size = 4) {\n  return axios.post(endpoint(`/new?size=${encodeURIComponent(size)}`));\n}\nexport function getState(gameId) {\n  return axios.get(endpoint(`/state/${encodeURIComponent(gameId)}`));\n}\n\n// Updated move: send JSON body and also include query params as fallback\nexport async function move(gameId, direction) {\n  const url = endpoint(\"/move\");\n  const body = {\n    gameId,\n    direction\n  };\n  try {\n    // prefer JSON body\n    return await axios.post(url, body);\n  } catch (e) {\n    // if body fails, try query param form (some controllers expect params)\n    return axios.post(url, null, {\n      params: {\n        gameId,\n        direction\n      }\n    });\n  }\n}\nexport function restart(gameId) {\n  return axios.post(endpoint(\"/restart\"), {\n    gameId\n  });\n}\nexport default {\n  newGame,\n  getState,\n  move,\n  restart\n};","map":{"version":3,"names":["axios","API_BASE","process","env","REACT_APP_API_BASE","replace","endpoint","path","startsWith","newGame","size","post","encodeURIComponent","getState","gameId","get","move","direction","url","body","e","params","restart"],"sources":["C:/Users/ashok.MSI/Projects/2048_game_project/2048_game_project_with_ui/frontend/src/api/gameApi.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_BASE = (process.env.REACT_APP_API_BASE && process.env.REACT_APP_API_BASE.replace(/\\/+$/,'')) || \"/api/game\";\nconst endpoint = (path) => `${API_BASE}${path.startsWith(\"/\") ? \"\" : \"/\"}${path}`;\n\nexport function newGame(size = 4) {\n  return axios.post(endpoint(`/new?size=${encodeURIComponent(size)}`));\n}\n\nexport function getState(gameId) {\n  return axios.get(endpoint(`/state/${encodeURIComponent(gameId)}`));\n}\n\n// Updated move: send JSON body and also include query params as fallback\nexport async function move(gameId, direction) {\n  const url = endpoint(\"/move\");\n  const body = { gameId, direction };\n  try {\n    // prefer JSON body\n    return await axios.post(url, body);\n  } catch (e) {\n    // if body fails, try query param form (some controllers expect params)\n    return axios.post(url, null, { params: { gameId, direction } });\n  }\n}\n\nexport function restart(gameId) {\n  return axios.post(endpoint(\"/restart\"), { gameId });\n}\n\nexport default { newGame, getState, move, restart };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAIC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAIF,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAACC,OAAO,CAAC,MAAM,EAAC,EAAE,CAAC,IAAK,WAAW;AACrH,MAAMC,QAAQ,GAAIC,IAAI,IAAK,GAAGN,QAAQ,GAAGM,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,GAAGD,IAAI,EAAE;AAEjF,OAAO,SAASE,OAAOA,CAACC,IAAI,GAAG,CAAC,EAAE;EAChC,OAAOV,KAAK,CAACW,IAAI,CAACL,QAAQ,CAAC,aAAaM,kBAAkB,CAACF,IAAI,CAAC,EAAE,CAAC,CAAC;AACtE;AAEA,OAAO,SAASG,QAAQA,CAACC,MAAM,EAAE;EAC/B,OAAOd,KAAK,CAACe,GAAG,CAACT,QAAQ,CAAC,UAAUM,kBAAkB,CAACE,MAAM,CAAC,EAAE,CAAC,CAAC;AACpE;;AAEA;AACA,OAAO,eAAeE,IAAIA,CAACF,MAAM,EAAEG,SAAS,EAAE;EAC5C,MAAMC,GAAG,GAAGZ,QAAQ,CAAC,OAAO,CAAC;EAC7B,MAAMa,IAAI,GAAG;IAAEL,MAAM;IAAEG;EAAU,CAAC;EAClC,IAAI;IACF;IACA,OAAO,MAAMjB,KAAK,CAACW,IAAI,CAACO,GAAG,EAAEC,IAAI,CAAC;EACpC,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV;IACA,OAAOpB,KAAK,CAACW,IAAI,CAACO,GAAG,EAAE,IAAI,EAAE;MAAEG,MAAM,EAAE;QAAEP,MAAM;QAAEG;MAAU;IAAE,CAAC,CAAC;EACjE;AACF;AAEA,OAAO,SAASK,OAAOA,CAACR,MAAM,EAAE;EAC9B,OAAOd,KAAK,CAACW,IAAI,CAACL,QAAQ,CAAC,UAAU,CAAC,EAAE;IAAEQ;EAAO,CAAC,CAAC;AACrD;AAEA,eAAe;EAAEL,OAAO;EAAEI,QAAQ;EAAEG,IAAI;EAAEM;AAAQ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}